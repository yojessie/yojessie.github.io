---
title: "[TIL] êµ¬ê¸€ë§ê³¼ ì¹œí•´ì§€ëŠ” ì¤‘"
excerpt: "ì²˜ìŒìœ¼ë¡œ ì—…ë¬´ì— í™œìš©í•  ì½”ë“œë¥¼ ë§Œë“¤ì—ˆê³  ìƒê°ë³´ë‹¤ ë” ë§ì€ ê²ƒì„ ë°°ì› ë‹¤.2"

categories:
  - TIL
tags:
  - TIL
  - javascript
  - poll-animation

date: 2022-03-23
last_modified_at: 2022-09-19
---

<br>
<br>

ì—¬ëŸ¬ê°€ì§€ ì´ìœ ë¡œ í•œë™ì•ˆ ì½”ë”©ì„ ë†“ê³  ìˆì—ˆë‹¤.<br>
ì–´ì¨Œë“  í‹ˆí‹ˆì´ ì´ì „ì— ë§Œë“  ê²ƒì— ëª©í‘œí•œ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ”ë° ì„±ê³µí–ˆê³ <br>
ê·¸ëŸ¬ë©´ì„œ ë°°ìš´ ê°œë…ë“¤ì„ ë³µìŠµí• ê²¸ ëŒ€ëµ ì •ë¦¬í•´ ë³¸ë‹¤.

<br>

## 1. ê°’ì´ ìë™ìœ¼ë¡œ ê³„ì‚°ë˜ëŠ” ì¸í’‹ ë§Œë“¤ê¸°

![img01](https://user-images.githubusercontent.com/81657811/190987069-36ebd049-57aa-42e8-ba02-4151fc430c5b.gif)

ì˜µì…˜A ì™€ ì˜µì…˜B í¼ì„¼íŠ¸ ìˆ˜ì¹˜ë¥¼ ì…ë ¥í•˜ëŠ” ì¸í’‹ì—, í•œìª½ë§Œ ì…ë ¥í•´ë„ ë‚˜ë¨¸ì§€ê°€ ìë™ ê³„ì‚°ë˜ë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤.

```javascript
const inputPercent = document.querySelectorAll(".input.number");

function calculatePercent() {
  const max = 100;

  if (this.value > max) {
    alert("It must be a number less than 100");
    this.value = 0;
  }

  if (this == inputPercent[0]) {
    inputPercent[1].value = max - inputPercent[0].value;
  } else if (this == inputPercent[1]) {
    inputPercent[0].value = max - inputPercent[1].value;
  }
}

for (let i = 0; i < inputPercent.length; i++) {
  inputPercent[i].addEventListener("input", calculatePercent);
}
```

max ê°’ì„ ì„ ì–¸í•´ë†“ê³ ,<br>
ifë¬¸ì„ ì´ìš©í•´ ì²«ë²ˆì§¸ ì¸í’‹ì´ë©´ ë‘ë²ˆì§¸ ì¸í’‹ì—, ë‘ë²ˆì§¸ ì¸í’‹ì´ë©´ ì²«ë²ˆì§¸ ì¸í’‹ì— ë‚˜ë¨¸ì§€ ê°’ì´ ë“¤ì–´ê°€ë„ë¡ í–ˆë‹¤.<br>
max ë³´ë‹¤ í° ê°’ì´ ë“¤ì–´ì˜¤ë©´ alertë„ ë„ì› ë‹¤.

ì ¤ ë§Œë§Œí•´ë³´ì—¬ì„œ ì´ê²ƒë¶€í„° ì‹œì‘í–ˆëŠ”ë°,<br>
ì´ëŸ°ì‹ìœ¼ë¡œ ë­”ê°€ë¥¼ ë§Œë“¤ì–´ë³´ëŠ”ê²Œ ì²˜ìŒì´ë¼ ì–´ë””ì„œë¶€í„° ì–´ë–»ê²Œ ê²€ìƒ‰í•´ë´ì•¼í• ì§€ ë§‰ë§‰ í–ˆë˜ ê²ƒ ê°™ë‹¤.<br>
êµ¬ê¸€ë§ ìì²´ë„ ìµìˆ™í•˜ì§€ ì•Šì•„ì„œ ì²˜ìŒì—ëŠ” í˜¼ì ê³ ë¯¼í•˜ë‹¤ê°€.. ì°¨ì¸° ê°–ê°€ì§€ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í•´ë³´ê¸° ì‹œì‘í–ˆë‹¤.<br>
ë‹¹ì—°íˆ ë‚´ê°€ ì›í•˜ëŠ” ì •ë‹µì„ ê·¸ëŒ€ë¡œ ì°¾ì„ ìˆ˜ëŠ” ì—†ì—ˆì§€ë§Œ, ë‹¤ë¥¸ ë¹„ìŠ·í•œ ê¸°ëŠ¥ì˜ ì½”ë“œë¥¼ ë³´ë©´ì„œ íŒíŠ¸ë¥¼ ì–»ì„ ìˆ˜ ìˆì—ˆë‹¤.

<br>
<br>

## 2. ì¸í’‹ì— ì…ë ¥í•œ ê°’ìœ¼ë¡œ ë™ì  ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°

ë¹„ìŠ·í•œê±¸ ì•ì— ë“¤ì—ˆë˜ ê°•ì˜ì—ì„œ ë§Œë“¤ì–´ ë´¤ë˜ì§€ë¼ ê¸°ì–µì„ ë”ë“¬ìœ¼ë©´ ì‰½ê²Œ í•  ìˆ˜ ìˆì„ ì¤„ ì•Œì•˜ëŠ”ë°... í˜¸ë½í˜¸ë½í•˜ì§€ ì•Šì•˜ë‹¤.

![img02](https://user-images.githubusercontent.com/81657811/190987079-52d3ccb9-52b5-48df-b6e8-123ba8d4dd15.gif)

HTML íƒœê·¸ë¥¼ ê°€ì ¸ì™€ì„œ templateë¡œ ì„ ì–¸í•˜ê³ <br>
ê° ì¸í’‹ì˜ ê°’ì„ í•´ë‹¹í•˜ëŠ” ìë¦¬ì— í…œí”Œë¦¿ ë¦¬í„°ëŸ´ë¡œ ë„£ì—ˆë‹¤.<br>
ê·¸ëŸ°ë‹¤ìŒ li íƒœê·¸ë¥¼ ìƒì„±í•´ ì„ ì–¸í•˜ê³ , ë‹¤ë¥¸ ë¦¬ìŠ¤íŠ¸ì˜ êµ¬ì¡°ì— ë§ê²Œ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í–ˆë‹¤.<br>
ê·¸ë¦¬ê³  ì•ì— ë§Œë“  í…œí”Œë¦¿ì„ liì— innerHTML í•˜ê³ , ulì— append í•´ì„œ ì´ë²¤íŠ¸ë¥¼ ê±¸ì—ˆë‹¤.

```javascript
const generateButton = document.querySelector(".input-button");

function handleGenerate() {
  const inputTitle = document.querySelector(".input.title");
  const inputOption = document.querySelectorAll(".input.option");
  const ul = document.querySelector(".polls-list");
  const li = document.createElement("li");
  li.classList.add("polls-item");

  let template = `
      <div class="polls-item-title">
        <div class="polls-item-select">
          <button class="check-button"></button>
          <p class="option">${inputOption[0].value}</p>
          <p class="percent hidden">${inputPercent[0].value}%</p>
        </div>
        <h4>${inputTitle.value}</h4>
        <div class="polls-item-select right">
          <button class="check-button"></button>
          <p class="option">${inputOption[1].value}</p>
          <p class="percent hidden">${inputPercent[1].value}%</p>
        </div>
      </div>
      <div class="polls-item-graph">
        <div class="graph-selected hidden">
          <img class="graph-ball" src="./asset/graph-ball.svg" />
        </div>
      </div>`;

  li.innerHTML = template;
  ul.appendChild(li);
}

generateButton.addEventListener("click", handleGenerate);
```

ì²˜ìŒì—ëŠ” li íƒœê·¸ê¹Œì§€ í†µì§¸ë¡œ í…œí”Œë¦¿ì— ë„£ì–´ì„œ ulì— innerHTMLí–ˆëŠ”ë°,<br>
ê·¸ëŸ¬ë©´ ê¸°ë³¸ìœ¼ë¡œ HTMLì— ë“¤ì–´ìˆë˜ ë¦¬ìŠ¤íŠ¸ê°€ í…œí”Œë¦¿ ë‚´ìš©ìœ¼ë¡œ ëŒ€ì²´ë˜ì–´ë²„ë ¸ë‹¤.<br>
ê·¸ë˜ì„œ JSì—ì„œ lië¥¼ ìƒì„±í•œë‹¤ìŒ í…œí”Œë¦¿ì— ì„ ì–¸í•œ íƒœê·¸ë¥¼ innerHTMLí•˜ê³ , lië¥¼ ë‹¤ì‹œ ulì— appendChild í•´ì•¼í–ˆë‹¤.

[innerHTML ê³¼ appendChildì˜ ë¹„êµ]

<br>
<br>

## 3. ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒì„±í• ë•Œ ì¸í’‹ì´ ë¹„ì–´ìˆìœ¼ë©´ ì•Œë ¤ì£¼ê¸°

![img03](https://user-images.githubusercontent.com/81657811/190987084-1776670a-fe1e-430d-9a90-0bb6b4f2e098.gif)

ì²˜ìŒì—ëŠ” inputì„ ì¡ì•„ì™€ì„œ valueê°€ ë¹„ì–´ìˆëŠ”ê²ƒì„ ifë¬¸ì˜ ì¡°ê±´ìœ¼ë¡œí•˜ë©´ ì¡íì¤„ ì•Œì•˜ëŠ”ë° ì•ˆë˜ì„œ í•œì°¸ ê±¸ë ¸ë‹¤.<br>
ë”°ì ¸ê°€ë©° ìƒê°í•´ë³´ë‹ˆ inputì´ ì—¬ëŸ¬ê°œì´ê¸° ë•Œë¬¸ì—, ëª¨ë“  ì¸í’‹ì— ì¡°ê±´ë¬¸ì„ ëŒ€ì…í•´ ë³´ë„ë¡í•˜ëŠ” ë°˜ë³µë¬¸ì´ í•„ìš”í–ˆë‹¤.

```javascript
const inputs = document.querySelectorAll(".input");

for (let i = 0; i < inputs.length; i++) {
  if (inputs[i].value == "") {
    alert("Please fill the inputs");
    return;
  }
}
```

ê·¸ë¦¬ê³  ì´ ì½”ë“œ ë’¤ì— ìˆëŠ” ë¦¬ìŠ¤íŠ¸ìƒì„± ì½”ë“œê°€ ì‹¤í–‰ë˜ì§€ ì•Šë„ë¡ returnìœ¼ë¡œ í•¨ìˆ˜ì˜ ì‹¤í–‰ì„ ì¢…ë£Œí–ˆë‹¤.

<br>
<br>

## 4. ë¦¬ìŠ¤íŠ¸ ìƒì„± í›„ì— ì¸í’‹ ë¹„ì›Œì£¼ê¸°

ì´ë²¤íŠ¸ í•¨ìˆ˜ ë§ˆì§€ë§‰ì—ëŠ” ë¦¬ìŠ¤íŠ¸ ìƒì„± í›„ ì¸í’‹ì„ ë¹„ì›Œì£¼ëŠ” ì½”ë“œë„ ì¶”ê°€í–ˆë‹¤.

```javascript
for (let i = 0; i < inputs.length; i++) {
  inputs[i].value = "";
}
```

<br>
<br>

## 5. ë™ì ìœ¼ë¡œ ìƒì„±í•œ íƒœê·¸ì— ì´ë²¤íŠ¸ ê±¸ê¸° ğŸ¤¯

ì ¤ ì˜¤ë˜ ê±¸ë ¸ë˜ ë¶€ë¶„..<br>
ë™ì ìœ¼ë¡œ ìƒì„±í•œ íƒœê·¸ì—ëŠ” ì´ë²¤íŠ¸ê°€ ê±¸ë¦¬ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê±¸ ì•Œê²Œëë‹¤.

ê·¸ë¦¬ê³  ì´ ë‚´ìš©ì€ ì•„ë¬´ë¦¬ ê²€ìƒ‰í•´ë„ ë‚´ ì½”ë“œ ìƒí™©ì— ë”± ë§ëŠ” ì˜ˆì‹œê°€ ì—†ê³ ,<br>
ì‹¬í”Œí•œ ì½”ë“œ ì˜ˆì‹œë“¤ë§Œ ì°¾ì„ ìˆ˜ ìˆì—ˆëŠ”ë°..<br>
ì˜ì–´ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í•˜ëŠ” ìª½ì´ ìë£Œê°€ í›¨ì”¬ í’ë¶€í•˜ë‹¤ëŠ” ê²ƒë„ ê¹¨ë‹¬ì•˜ë‹¤.

event binding / bubbling / capturing / DOM / dynamically created elements ë“±ì˜ í‚¤ì›Œë“œê°€ í•„ìš”í–ˆë‹¤.<br>
ì˜ ëª¨ë¥¼ë•Œ ë‘ë£¨ë­‰ìˆ í•œ í‚¤ì›Œë“œì—ì„œë¶€í„°, ì§„ì§œ ë‚´ê°€ í•„ìš”í•œ ìª½ì— ë§ëŠ” ë¾°ì¡±í•œ í‚¤ì›Œë“œë¥¼ ì°¾ì•„ê°€ëŠ” ë§›ì´ ìˆë‹¤.

[How to Bind Event Listeners to Dynamically]

ë™ì  ìƒì„± ìš”ì†Œì— ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ” ë¶€ëª¨ì—ê²Œ ì´ë²¤íŠ¸ë¥¼ ê±¸ì—ˆê³ ,<br>
ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì—ëŠ” ìº¡ì³ë§ì„ ìœ„í•œ true ì˜µì…˜ì„ ì¶”ê°€í–ˆë‹¤.<br>
ì´ë²¤íŠ¸ê°€ ì¼ì–´ë‚œ ëŒ€ìƒì´ ë‚´ê°€ ì›í•˜ëŠ” ìì‹ìš”ì†Œì˜ í´ë˜ìŠ¤ë¥¼ í¬í•¨í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ifë¬¸ì„ ë§Œë“¤ì—ˆëŠ”ë°,<br>
ì•„ë¬´ë¦¬ ë§ì€ ë¬¸ì„œë¥¼ ë³´ê³  ì‹œë„í•´ë´ë„ í•´ê²°ì´ ì•ˆë˜ì—ˆë‹¤.

ê·¸ë¦¬ê³  ë“œë””ì–´ ì°¾ì•„ë‚¸ê²ƒì€... this ì™€ event.targetì´ ë‹¤ë¥´ë‹¤ëŠ” ì‚¬ì‹¤... ğŸ˜³

[Bubbling and capturing]

ì´ ë¬¸ì„œì— ëŒ€í•´ì„œëŠ” ë‹¤ì‹œ í•œë²ˆ ì •ë¦¬í•´ì„œ í¬ìŠ¤íŒ…í•´ë´ì•¼ê² ë‹¤.

ë¬´íŠ¼ ë©°ì¹ ë™ì•ˆ ë™ë™ëŒ€ë©° ê³ ë¯¼í•˜ë˜ ê²ƒì´ ì´ë ‡ê²Œ íˆ­ í’€ë ¸ì„ë•Œì˜ ì¾Œê°!! ì§„ì§œ ë„ˆë¬´ ì¢‹ë‹¤!

```javascript
const section = document.querySelector(".polls");

function pollsAnimation(event) {
  if (event.target.classList.contains("button-svg")) {
    event.target.closest(".check-button").classList.add("button-active");
    event.target.querySelector("path").classList.add("button-active-svg");

    const pollsItem = event.target.closest(".polls-item");
    const selectedSide = event.target.closest(".polls-item-select");
    const selectedGraph = pollsItem.querySelector(".graph-selected");
    const percent = selectedSide.querySelector(".percent").innerText;

    if (selectedSide.classList.contains("right")) {
      pollsItem.classList.add("selected", "right");
    } else {
      pollsItem.classList.add("selected");
    }

    setTimeout(function () {
      selectedGraph.style.width = percent;
    }, 200);
  }
}

section.addEventListener("click", pollsAnimation, true);
```

![img04](https://user-images.githubusercontent.com/81657811/190987088-f87d9696-f475-4d10-933d-6a37a8d288d6.gif)

ì´ë ‡ê²Œ ê²°êµ­ ì¶”ê°€í•˜ê³ ì í–ˆë˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤.<br>
ì´ì œ ë“œëŒ ë²„ê·¸ë‹˜ ê°•ì˜ ë§ˆë¬´ë¦¬í•˜ëŸ¬ ê°€ì•¼ì§• ğŸ¥³

[innerhtml ê³¼ appendchildì˜ ë¹„êµ]: https://m.blog.naver.com/PostView.naver?blogId=tangja21003&logNo=132675209
[how to bind event listeners to dynamically]: https://typeofnan.dev/how-to-bind-event-listeners-on-dynamically-created-elements-in-javascript/
[bubbling and capturing]: https://javascript.info/bubbling-and-capturing
